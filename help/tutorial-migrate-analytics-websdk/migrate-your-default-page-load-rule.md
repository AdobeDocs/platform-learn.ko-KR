---
title: 기본 페이지 로드 규칙 마이그레이션
description: 이 연습에서는 Adobe Experience Cloud Tags의 기본 페이지 로드 규칙을 Analytics 확장에서 웹 SDK 확장으로 마이그레이션하는 방법에 대해 알아봅니다.
solution: Data Collection, Analytics
feature: Web SDK
jira: KT-16760
exl-id: 783b464e-2974-41a1-9949-ac3ac0c786fc
source-git-commit: 2150ead50fee06b434d996183a959ad5f01dd2a8
workflow-type: tm+mt
source-wordcount: '1259'
ht-degree: 0%

---

# 기본 페이지 로드 규칙 마이그레이션

이 연습에서는 Adobe Experience Cloud Tags의 기본 페이지 로드 규칙을 Analytics 확장에서 웹 SDK 확장으로 마이그레이션하는 방법에 대해 알아봅니다.

## 개요

우리 조금만 더 힘을 내자. 태그에는 하나 이상의 기본 변수를 설정한 다음 Adobe Analytics에 대한 비콘 또는 히트를 실행하는 모든 페이지에서 실행되는 규칙이 있을 수 있습니다. 이 규칙은 현재 Adobe Analytics 확장에서 &quot;작업&quot;을 사용하여 이러한 작업을 수행하고 있습니다. 구현을 Web SDK으로 마이그레이션할 때 Analytics 확장에 대한 참조(예: 작업)를 제거하고 웹 SDK에 속하는 작업으로 바꿀 수 있어야 합니다. 아래 단계에서는 위의 내용을 가정합니다. 즉, 변수를 설정하고 추적 비콘에서 Analytics로 전송하는 기본 페이지 로드 규칙이 있습니다.

## 변수 설정 작업 마이그레이션

이 활동에서는 Adobe Analytics 확장의 **변수 설정** 작업에 해당하는 웹 SDK 작업을 만듭니다.

1. 데이터 수집 UI와 속성에서 왼쪽 탐색에서 **[!UICONTROL 규칙]** 화면을 선택하여 이동합니다.
1. **Analytics 기본 로드 규칙**&#x200B;인 규칙을 선택하십시오. 어떤 규칙이 기본 로드 규칙인지 모를 경우, 규칙과 해당 규칙에 대한 지식이 있는 사람에게 문의하십시오. 모든 페이지에서 실행되고, 일부 기본 변수(예: 페이지 이름)를 설정한 다음, 비콘을 Analytics로 보내는 규칙을 찾고 있습니다. 우리는 이 규칙을 변경할 것입니다. 내 이름은 &quot;All Pages - DOM Ready 50&quot;이지만 사용자의 이름은 무엇이든 지정할 수 있습니다.

   ![기본 페이지 로드 규칙](assets/default-page-load-rule.jpg)

1. 현재 작업을 Analytics 확장에서 웹 SDK 확장으로 마이그레이션하려면 설정되는 변수를 알아야 합니다. 따라서 **Adobe Analytics - 변수 설정** 작업을 클릭하면 설정되는 변수(예: PageName, props, eVar, events 등)를 볼 수 있습니다.

   ![Adobe Analytics - 변수 설정](assets/aa-set-variables.jpg)
   1. 해당 규칙에서 설정되는 변수 확인
      ![설정 중인 변수](assets/aa-vars-set.jpg)

1. 페이지 맨 위에서 라디오 단추를 **JSON 제공**(으)로 변경하면 설정된 변수의 코드 보기가 표시됩니다. 이 코드 보기와 UI 보기는 서로 호환되며, 한 UI에서 어떤 것을 설정하면 다른 UI에서도 업데이트됩니다.

   ![AA 집합 변수 JSON](assets/aa-setvars-json.jpg)

1. 다음 단계에서 해당 코드를 새 웹 SDK 작업에 붙여 넣으려고 하므로 이 데이터를 클립보드에 복사하거나 파일에 저장하여 바로 사용할 수 있습니다.
1. 취소 를 클릭하여 다시 규칙으로 돌아오도록 Analytics 변수 설정 작업을 수행합니다.

   >[!IMPORTANT]
   >
   >다음을 포함하여 이 단계에서 선택할 수 있습니다.
   >1. 새 작업을 추가하는 대신 기존 작업을 변경할 수 있습니다. 이렇게 하면 저장할 때 즉시 데이터가 새 웹 SDK 보고서 세트로 이동되고 현재 Analytics 보고서 세트에 더 이상 표시되지 않습니다.
   >1. 이제 Analytics 작업을 그대로 두고 웹 SDK을 통해 데이터를 Analytics에 전송하는 새 작업을 만들 수 있습니다. 이렇게 하면 새 웹 SDK 보고서 세트의 데이터를 현재 Analytics 보고서 세트와 비교할 수 있습니다. **이 자습서에서 수행할 작업입니다.** 이 메서드는 데이터를 비교하는 동안 히트를 두 번 발생하므로 이전 Analytics 확장의 작업을 제거할 때까지 추가 서버 호출에 대한 비용이 발생한다는 점을 유의하십시오. Analytics 확장의 작업을 해당 위치에 영구적으로 유지하는 것이 아니라 데이터가 새 웹 SDK 확장의 보고서 세트에 올바르게 흐르고 있는지 확인할 수 있을 만큼 충분히 오래 유지하는 것이 좋습니다.

1. 새 웹 SDK 작업을 추가하려면 **더하기 단추**&#x200B;를 클릭하십시오.

   ![새 작업 추가](assets/add-new-action.jpg)

1. 확장 드롭다운에서 **Adobe Experience Platform Web SDK**&#x200B;을(를) 선택합니다.
1. 작업 유형 드롭다운에서 **변수 업데이트**&#x200B;를 선택합니다.
1. 오른쪽 패널 상단에 나열된 **데이터 요소**&#x200B;가 새 변수 유형 데이터 요소인지 확인하십시오.
1. 오른쪽 패널에서 데이터 개체 내의 **Analytics** 개체를 선택합니다
   ![변수 작업 업데이트](assets/define-update-variable-action.jpg)
1. 이제 라디오 단추를 **JSON 또는 데이터 요소 제공**(으)로 변경하고 변수 설정에서 이전 단계에서 복사한 코드를 이 코드 창에 붙여 넣습니다. 이 자습서에서는 예제에 불과합니다. 고유한 변수를 복사하여 붙여넣습니다.

   ![새 웹 SDK 코드 붙여넣기](assets/new-websdk-code-paste.jpg)
이 JSON 복사 도구는 특히 마이그레이션을 더 쉽게 만들기 위해 만들어졌으며, 이전 작업에서 광범위한 메모를 작성하고 새 작업에 적용하는 대신 이 작업이 얼마나 쉬운지 알 수 있을 것입니다.

1. 언제든지 라디오 단추를 앞뒤로 전환하여 코드 버전(위에 표시됨) 또는 UI 버전의 속성 표시를 확인할 수 있습니다. **개별 특성 제공** 라디오 단추를 선택하여 채워진 특성을 확인합니다.

   ![웹 SDK 특성 1](assets/websdk-attributes-1.jpg)
   ![웹 SDK 특성 2](assets/websdk-attributes-2.jpg)

1. 변수가 올바르게 설정되어 있으면 **변경 내용 유지/저장**&#x200B;을 클릭합니다.

## 비콘 보내기 작업 마이그레이션

이 활동에서는 Analytics &quot;비콘 보내기&quot; 작업에 해당하는 웹 SDK을 만듭니다. 이 작업은 **이벤트 보내기**&#x200B;라고 합니다.

1. 방금 사용한 기본 페이지 규칙으로 돌아갑니다.
1. 작업 섹션에서 **더하기 단추**&#x200B;를 클릭하여 다른 작업을 추가합니다. **이벤트 보내기** 작업이 됩니다.

   ![새 작업 추가](assets/add-new-action-2.jpg)

1. 작업을 구성하려면 확장 드롭다운에서 **Adobe Experience Platform Web SDK**&#x200B;을 선택합니다.
1. 작업 유형에서 **이벤트 보내기**&#x200B;를 선택합니다.
1. 오른쪽 패널에서 **Data** 개체 옆에 있는 데이터 요소 아이콘을 선택합니다.

   ![전송 이벤트 구성](assets/send-event-config.jpg)

1. 페이지 보기 데이터 변수(또는 새 &quot;data&quot; 형식 데이터 요소를 호출한 모든 항목)를 선택한 다음 **선택** 단추를 클릭합니다.

   ![페이지 데이터 요소 선택](assets/select-data-element-variable.jpg)

1. **변경 내용 유지/저장**&#x200B;을 클릭합니다.
1. 이제 규칙에 있는 네 가지 작업(이전 작업 2개와 새 작업 2개)이 모두 표시됩니다

   ![네 가지 작업 모두](assets/all-four-actions.jpg)

## Analytics 확장의 작업을 삭제해야 합니까?

좋은 질문이네요 답은 이전 작업을 제거하기 전에 새 작업의 유효성을 검사할지 여부에 있습니다. 위에서 언급했듯이 이 자습서에서 선택한 대로 데이터를 보내는 Analytics 및 웹 SDK 작업(비콘 보내기 및 이벤트 보내기)을 모두 종료하면 동일한 데이터가 두 보고서 세트(즉, Analytics 확장의 프로덕션 보고서 세트와 웹 SDK 확장의 새 유효성 검사 보고서 세트)로 이동합니다. 그 결과 서버 호출이 Analytics로 두 배가 되고 이와 관련된 비용이 발생합니다. 그러나 이전 데이터를 종료하기 전에 새 데이터의 유효성을 검사할 수 있도록 이 작업을 선택하는 고객의 수입니다. 이 자습서 말미에는 유효성 검사에 만족하면 이전 항목을 정리하는 방법을 보여 주는 연습이 있지만, 서버 호출을 저장하고 유효성 검사에 대해 걱정하지 않기 위해 지금 수행하려면 자습서의 끝으로 건너뛸 수 있습니다. 그렇지 않으면 진행할 때 Analytics 확장의 작업을 규칙에서 삭제하십시오.
